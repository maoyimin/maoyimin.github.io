<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>零基础学数据可视化</title>
    <meta charset="utf-8" />
    <meta name="author" content="毛益民　副教授" />
    <script src="libs/htmlwidgets/htmlwidgets.js"></script>
    <script src="libs/jquery/jquery.min.js"></script>
    <link href="libs/datatables-css/datatables-crosstalk.css" rel="stylesheet" />
    <script src="libs/datatables-binding/datatables.js"></script>
    <link href="libs/dt-core/css/jquery.dataTables.min.css" rel="stylesheet" />
    <link href="libs/dt-core/css/jquery.dataTables.extra.css" rel="stylesheet" />
    <script src="libs/dt-core/js/jquery.dataTables.min.js"></script>
    <link href="libs/crosstalk/css/crosstalk.css" rel="stylesheet" />
    <script src="libs/crosstalk/js/crosstalk.min.js"></script>
    <link rel="stylesheet" href="zh-CN.css" type="text/css" />
    <link rel="stylesheet" href="custom.css" type="text/css" />
    <link rel="stylesheet" href="xaringan-themer.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# 零基础学数据可视化
## 二、数据处理基础
### 毛益民　副教授
### 浙江工商大学公共管理学院

---



# 一些英文单词
.pull-left[
- sequence
- replicate
- merge
- combine
- gather
- spread
- row
- column
- bind
- head
- tail
]

.pull-right[
- mutate
- select
- filter
- subset
- plot
- figure
- graph
- layer
- summary
- character
- numeric
- factor
]


---
# 数据类型
.pull-left[
- 数值型 

```r
a &lt;- 1; is.numeric(a) 
```

```
## [1] TRUE
```
- 字符型

```r
b &lt;- 'peter'; nchar(b)
```

```
## [1] 5
```
]
--
.pull-right[
- 日期型

```r
c &lt;- as.Date('2019-09-16')
class(c)
```

```
## [1] "Date"
```
- 逻辑型

```r
e &lt;- TRUE
class(e)
```

```
## [1] "logical"
```
]


---
# 数据结构
## 向量(vector)
&gt; - 向量是用于存储数值型、字符型或逻辑型数据的一维数组。
- 执行组合功能的函数*c()*可用来创建向量。


```r
c(2,4,6);seq(2,4,by=0.5);rep(1:3,time=3)
```

```
## [1] 2 4 6
```

```
## [1] 2.0 2.5 3.0 3.5 4.0
```

```
## [1] 1 2 3 1 2 3 1 2 3
```
--
### .red[向量需要定义，否则结果会很残忍]
输入：lalala 

输出：找不到对象 'lalala'

---
## 向量的处理
- 向量的排序

```r
lalala &lt;- c(1,3,5,2,4)
order &lt;- sort(lalala,index.return=TRUE,decreasing = TRUE)
order
```

```
## $x
## [1] 5 4 3 2 1
## 
## $ix
## [1] 3 5 2 4 1
```
--
- 向量的唯一值

```r
xing &lt;- c('zhang','li','wang','mao','zhang','wang')
unique(xing)
```

```
## [1] "zhang" "li"    "wang"  "mao"
```
---
- 向量的离散化

```r
num &lt;- c(10,5,4,7,6,1,4,3,8,9,2)
cut_num &lt;- cut(num,breaks = c(0,3,6,9,11),
               labels = c('0-3','3-6','6-9','&gt;9'),right=TRUE)
cut_num
```

```
##  [1] &gt;9  3-6 3-6 6-9 3-6 0-3 3-6 0-3 6-9 6-9 0-3
## Levels: 0-3 3-6 6-9 &gt;9
```
--
- 向量的索引

```r
x &lt;- c(1,2,3,4,5)
x[3];x[x&gt;3]
```

```
## [1] 3
```

```
## [1] 4 5
```
---
# 不难不难，甚至有点轻松
&lt;img src="jay.jpg" width="75%" style="display: block; margin: auto;" /&gt;
---
# 数据结构
## 因子(factor)
&gt; 因子可以看成是包含了额外信息的向量，这额外的信息就是不同的类别，称之为说（level)


```r
cut &lt;- c('差','一般','良好','优秀')
as.factor(cut)
```

```
## [1] 差   一般 良好 优秀
## Levels: 差 良好 一般 优秀
```

---
#数据结构
## 数据框(data.frame)
&gt; 
- 数据框是一种表格结构，类似于EXCEL中的数据表。
- 数据框是由多个向量构成的，每个向量的长度相同。


```r
# 数据框的创建
df &lt;- data.frame(
  x=c('a','b','c'),
  y=1:3,
  z=c(2,5,3)
)
df
```

```
##   x y z
## 1 a 1 2
## 2 b 2 5
## 3 c 3 3
```
---
# 记了这么多，先喘口气
&lt;img src="土拨鼠.gif" style="display: block; margin: auto;" /&gt;

--

## .red[然后，继续。。。]

---
# 请创建如下数据框
<div id="htmlwidget-0db7e1b76b2033390f83" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-0db7e1b76b2033390f83">{"x":{"filter":"none","fillContainer":false,"data":[["1","2","3","4"],["张三","李四","王五","赵六"],[1,2,3,4],[80,57,66,78],["B","C","C","B"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>name<\/th>\n      <th>code<\/th>\n      <th>score<\/th>\n      <th>level<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":4,"columnDefs":[{"className":"dt-right","targets":[2,3]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[4,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>
---
# 数据属性
.content-box-green[类别型：不同类型的数据
- 无序：比如性别（男或女）
- 有序：不太喜欢、喜欢、非常喜欢
]

.content-box-yellow[数值型：比如成绩
]

--
## 成绩划分等级
- 优秀：90分及以上
- 良好：80-89
- 中等：70-79
- 合格：60-69
- 不合格：0-59

---
# 数据的导入与导出
## csv文件
&gt; mydata &lt;- read.csv('data.csv',sep=',',na.strings = 'NA',stringsAsFactors = FALSE)

&gt; write.csv(mydata,file='file.csv)

## excel文件
&gt; mydata &lt;- read.xlsx('data.xlsx',sheetindex=1)

&gt; write.xlsx(mydata,file='file.xlsx',sheetName='mysheetname')

当然，可以在窗口上操作

---
# 记了这么多，再喘口气
&lt;img src="土拨鼠.gif" style="display: block; margin: auto;" /&gt;

--
## .red[然后，再继续。。。]
---
# 控制语句
.blockquote[理解 if...else...和函数ifelse的用法]

.content-box-red[
if (条件) {
  执行语句
  }  else{
    其它执行语句 }
.pull-left[


```r
#例子
i &lt;- 5
if(i&gt;3){
  print('yes') 
} else {
  print('no')
}
```

```
## [1] "yes"
```

]
.pull-right[

```r
#例子
ifelse(i&gt;3,
       'yes',
       'no')
```

```
## [1] "yes"
```
]
]
---
## for 循环语句
&gt; for (变量 in 向量) { 执行语句}

.content-box-red[

```r
#例子
for(i in 1:4){
  j &lt;- i+10
  print(j)
}
```

```
## [1] 11
## [1] 12
## [1] 13
## [1] 14
```
]

---
# 让我们再往前走一步
&gt; 基于数据框的操作：表格的转换与整理

.content-box-yellow[
- 这部分挺好玩，也很有用哦！
- 先生成1个数据框文件

```r
mydf &lt;- data.frame(x=c('A','B','C'),
                 '2010'=c(1,3,4),
                 '2011'=c(3,5,2),
                 check.names = FALSE)
mydf
```

```
##   x 2010 2011
## 1 A    1    3
## 2 B    3    5
## 3 C    4    2
```

]
---
# tidyr包 两个非常有用的函数。
.content-box-green[gather()：将短数据变成长数据]  .content-box-red[spread(): 将长数据变成短数据]

&lt;img src="original-wide-long.png" width="80%" /&gt;
---
# 动态过程
&lt;img src="tidyr-spread-gather.gif" width="75%" style="display: block; margin: auto;" /&gt;

---
# 练习一下


```r
mydf
```

```
##   x 2010 2011
## 1 A    1    3
## 2 B    3    5
## 3 C    4    2
```

```r
df_gather &lt;- tidyr::gather(mydf,year,value,-x)
df_gather
```

```
##   x year value
## 1 A 2010     1
## 2 B 2010     3
## 3 C 2010     4
## 4 A 2011     3
## 5 B 2011     5
## 6 C 2011     2
```
---
# 如何恢复原状

```r
# 请用spread（）
df_spread &lt;- tidyr::spread(df_gather,year,value)
df_spread
```

```
##   x 2010 2011
## 1 A    1    3
## 2 B    3    5
## 3 C    4    2
```
--
&gt;请整理一下全国各省近10年的GDP数据
- [.red[数据来源（点击）]](http://data.stats.gov.cn/index.htm)
- 由短数据变成长数据
---
# 变量的变换
&gt; 
- 着眼于df_gather
- 将里面的value都扩大两倍


```r
df_gather2 &lt;- dplyr::mutate(df_gather,
                            value2=value*2)
df_gather2
```

```
##   x year value value2
## 1 A 2010     1      2
## 2 B 2010     3      6
## 3 C 2010     4      8
## 4 A 2011     3      6
## 5 B 2011     5     10
## 6 C 2011     2      4
```
---
# 练习一下
&gt; 操作：对于df_gather，请将2011年的value扩大3倍，其它value保留原值

.pull-left[

```r
df_gather
```

```
##   x year value
## 1 A 2010     1
## 2 B 2010     3
## 3 C 2010     4
## 4 A 2011     3
## 5 B 2011     5
## 6 C 2011     2
```
]
.pull-right[
&lt;img src="代码成功.gif" width="150%" style="display: block; margin: auto;" /&gt;
]
---
# 代码与结果


```r
df_gather$value2 &lt;- ifelse(df_gather$year=='2011',
                           df_gather$value*3,
                           df_gather$value)
df_gather
```

```
##   x year value value2
## 1 A 2010     1      1
## 2 B 2010     3      3
## 3 C 2010     4      4
## 4 A 2011     3      9
## 5 B 2011     5     15
## 6 C 2011     2      6
```


---
#也可以用dplyr包

```r
df_gather %&gt;% 
  mutate(value3=ifelse(year=='2011',
                           value*3,
                           value))
```

```
##   x year value value2 value3
## 1 A 2010     1      1      1
## 2 B 2010     3      3      3
## 3 C 2010     4      4      4
## 4 A 2011     3      9      9
## 5 B 2011     5     15     15
## 6 C 2011     2      6      6
```

---
# 表格的拼接
&gt; rbind() &amp; cbind()


```r
df1 &lt;- data.frame(x=c('a','b','c'),y=1:3)
df1
```

```
##   x y
## 1 a 1
## 2 b 2
## 3 c 3
```

```r
df2 &lt;- data.frame(m=c('A','B','C'),n=6:8)
df2
```

```
##   m n
## 1 A 6
## 2 B 7
## 3 C 8
```
---
## 横向拼接


```r
df_cbind &lt;- cbind(df1,df2)
df_cbind
```

```
##   x y m n
## 1 a 1 A 6
## 2 b 2 B 7
## 3 c 3 C 8
```

## 纵向拼接


```r
df3 &lt;- data.frame(x=c('lala','dada'),y=2:3)
df_rbind &lt;- rbind(df1,df3)
df_rbind
```

```
##      x y
## 1    a 1
## 2    b 2
## 3    c 3
## 4 lala 2
## 5 dada 3
```
---
# 表格的融合

```r
df1
```

```
##   x y
## 1 a 1
## 2 b 2
## 3 c 3
```

```r
df4 &lt;- data.frame(x=c('a','c','b'),
                  z=c('好','不好','中等'))
df4
```

```
##   x    z
## 1 a   好
## 2 c 不好
## 3 b 中等
```
---
# 使用merge进行融合


```r
df_merge &lt;- merge(df1,df4,by='x')
df_merge
```

```
##   x y    z
## 1 a 1   好
## 2 b 2 中等
## 3 c 3 不好
```

&gt; 当然，练习是少不了的

---
# 也说不出为什么，就是想喊上一嗓子
&lt;img src="土拨鼠.gif" style="display: block; margin: auto;" /&gt;

---
# 分组计算均值
&gt; dplyr包 group_by 函数


```r
iris %&gt;% 
  group_by(Species) %&gt;% 
  summarise_all(mean)
```

```
## # A tibble: 3 x 5
##   Species    Sepal.Length Sepal.Width Petal.Length Petal.Width
##   &lt;fct&gt;             &lt;dbl&gt;       &lt;dbl&gt;        &lt;dbl&gt;       &lt;dbl&gt;
## 1 setosa             5.01        3.43         1.46       0.246
## 2 versicolor         5.94        2.77         4.26       1.33 
## 3 virginica          6.59        2.97         5.55       2.03
```
---
# 分组列出最大值

```r
iris %&gt;% 
  group_by(Species) %&gt;% 
  summarise_all(max)
```

```
## # A tibble: 3 x 5
##   Species    Sepal.Length Sepal.Width Petal.Length Petal.Width
##   &lt;fct&gt;             &lt;dbl&gt;       &lt;dbl&gt;        &lt;dbl&gt;       &lt;dbl&gt;
## 1 setosa              5.8         4.4          1.9         0.6
## 2 versicolor          7           3.4          5.1         1.8
## 3 virginica           7.9         3.8          6.9         2.5
```
---
# 综合练习（看看你真的会了没有？）


为了方便大家练习，且对数据有很好的代入感，我构造了两份数据：


&gt; 练习数据，点击即可下载：  
1. 学生名单，包括班级（class)、姓名（name)、以及性别(gender)。下载 [students.xls](/datavis/data/students.xls)  
2. 考试成绩，包括姓名(name)以及各科成绩，即语文(chinese)、数学(math)、英语(english)、物理(physics)、化学(chemistry)、生物(biology)。下载 [scores.xls](/datavis/data/scores.xls)
---
# 让我们先来浏览一下数据内容：
学生名单（为了逼真，我还起了396个名字，可见用心良苦!

<div id="htmlwidget-b66b629dbf14cccb94e0" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-b66b629dbf14cccb94e0">{"x":{"filter":"none","fillContainer":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219","220","221","222","223","224","225","226","227","228","229","230","231","232","233","234","235","236","237","238","239","240","241","242","243","244","245","246","247","248","249","250","251","252","253","254","255","256","257","258","259","260","261","262","263","264","265","266","267","268","269","270","271","272","273","274","275","276","277","278","279","280","281","282","283","284","285","286","287","288","289","290","291","292","293","294","295","296","297","298","299","300","301","302","303","304","305","306","307","308","309","310","311","312","313","314","315","316","317","318","319","320","321","322","323","324","325","326","327","328","329","330","331","332","333","334","335","336","337","338","339","340","341","342","343","344","345","346","347","348","349","350","351","352","353","354","355","356","357","358","359","360","361","362","363","364","365","366","367","368","369","370","371","372","373","374","375","376","377","378","379","380","381","382","383","384","385","386","387","388","389","390","391","392","393","394","395","396"],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9],["柏寒","柏朗","陈依","陈宇","单天傲","单运旭","董冬烟","董鹏","范昆","范南","干盛昊","干萱梦","花晖","花忆","华福","华山","梅翠亦","梅明","米山","米雄","钮莱然","钮彤萱","强若琴","强智","宋白萱","宋耘运","唐纶","唐之","滕易秋","滕运","夏珊","夏运震","尹昊","尹妙","尤景","尤若","于梅","于煊浦","元蓉","元震","赵彭","赵芷","支桃","支运高","贝和浦","贝小","卜怜天","卜祯湃","蔡访秋","蔡运昌","褚湃","褚问","方绿","方伟","费晋","费琴","龚晨","龚语丝","杭飞","杭景","贾曜","贾易","解友槐","解运昊","金浩浩","金蕊","柯诚伟","柯凡菡","梁铭鹏","梁香","茅容风","茅曦","彭海","彭天","钱轩","钱萱","盛安涵","盛潍天","时鸿起","时昕凡","水旋","水宇","许鸿","许晴","姚昊","姚兰云","殷星","殷迎","程华煊","程梦梦","窦晨","窦雨","杜曦","杜雁蕊","傅思","傅曦","顾鸿运","顾南巧","何琴","何天","洪杰","洪若思","郎锟","郎元","廉寒","廉昊","林鸿范","林乐山","路沛良","路元香","罗朗","罗蕊","明绿萱","明浦鸿","庞卉","庞天","邵昂","邵翠","孙起","孙薇","田凡雄","田香","卫德","卫音","魏觅","魏起","应安萱","应宇","俞幻","俞鹏","昝桃","昝运然","包松烟","包文","毕萍","毕盛","岑昆","岑蕊妙","刁香","刁振高","樊亦蓉","樊运浩","管良茂","管巧翠","嵇惜盼","嵇耘昂","蒋范","蒋珊","李辰","李菱","娄晨昌","娄容迎","鲁萱","鲁振","吕蓉","吕天","孟傲菡","孟鹏","皮明","皮之","任薇","任星","阮锟昌","阮蓉","陶鸿","陶云","熊风","熊昆","臧德","臧映","湛彭凯","湛霜","章昆","章之","宗海书","宗运昆","卞昆","卞以妙","沈绿","沈运","丁涵","丁杰轩","郝鸿鸿","郝香","胡凯运","胡语","计晖","计冷","纪映钰","纪宇运","姜乐","姜泽","蓝辰阳","蓝文","卢青薇","卢运天","平鸿越","平芹","施凯","施映","汪杰","汪迎凡","危皓","危怀菡","韦明","韦凝","邢豪昊","邢蕊旋","薛燎","薛芷卉","袁梦谷","袁星","云容","云运","钟芷","钟智","周浩","周冷","诸亦","诸英","昌昂","昌亦","伏寒盼","伏晋","韩珊","韩渊","滑星鹏","滑迎思","黄语","黄卓潍","江晨华","江寄","雷鸿鸿","雷又","凌白","凌运骏","柳怀","柳睿","闵飞","闵梦巧","莫鸿昂","莫彤","戚沛","戚熙","祁鹏升","祁丝","齐昊","齐旋易","舒辰辰","舒文","苏菡","苏凯","邬昌","邬雁","吴蝶","吴燎","徐昆","徐南凝","宣小天","宣运煊","张杰","张觅","左月","左运然","安昆","安香","贲黎","贲蕊蕊","成安冬","成越振","房小","房运昆","酆鸿辰","酆山","和鹏","和蕊凡","贺福辰","贺梅","霍莲","霍宇","康盼","康云辰","孔杰","孔君","马笑丝","马运","毛槐","毛谊","潘浩风","潘思","裴爵朗","裴彤彤","邱栋","邱怀秋","屈昌","屈依海","石昌","石秋荷","童傲","童曦","席辰星","席蓉","谢初歌","谢彤","杨畅","杨君","郑白","郑阳","鲍达泽","鲍雁","曹宛","曹衍浩","常曜","常亦","崔荷白","崔昆","戴沛秋","戴泽震","邓又槐","邓运翰","葛秋","葛振","季容","季雄","陆沛亦","陆星尧","骆寒","骆君","苗傲","苗明","穆笑又","穆旭","倪瑶安","倪运","裘金","裘真易","王辰","王松","伍夏风","伍智","项辰莱","项又","颜晨宇","颜天绿","虞运运","虞紫","禹音雁","禹智","朱邈","朱迎","邹昂","邹曼","狄凝","狄伟","冯辰","冯迎","凤盛","凤彤","高黎","高之","郭濡运","郭烟","吉槐","吉勋","乐荷","乐茂","麻青","麻然","缪白冬","缪运振","秦容","秦钊","荣白诗","荣腾鹏","史蝶怀","史鸿鸿","谈博国","谈蕊","汤昊","汤萱","万南文","万煊","奚澍","奚雁","萧槐云","萧星","严昂","严怜梦","余亦","余哲诚","郁飞","郁晋","喻苍","喻笑","祝寄","祝钊韦"],["F","M","F","M","F","M","F","M","M","F","M","F","M","F","M","F","F","M","F","M","M","F","F","M","F","M","M","F","F","M","F","M","M","F","M","F","F","M","F","M","M","F","F","M","M","F","F","M","F","M","M","F","F","M","M","F","M","F","F","M","M","F","F","M","M","F","M","F","M","F","F","M","F","M","M","F","F","M","M","F","F","M","M","F","M","F","M","F","M","F","M","F","M","F","F","M","M","F","F","M","M","F","M","F","F","M","M","F","M","F","M","F","F","M","M","F","M","F","M","F","M","F","M","F","F","M","F","M","F","M","F","M","F","M","F","M","M","F","F","M","F","M","M","F","F","M","M","F","M","F","M","F","F","M","F","M","F","M","M","F","F","M","M","F","M","F","F","M","M","F","M","F","M","F","F","M","M","F","F","M","F","M","M","F","M","F","M","F","F","M","F","M","M","F","F","M","M","F","M","F","M","F","M","F","M","F","M","F","M","F","F","M","F","M","F","M","M","F","F","M","M","F","F","M","F","M","M","F","F","M","M","F","M","F","F","M","F","M","M","F","M","F","F","M","M","F","M","F","M","F","F","M","M","F","F","M","M","F","F","M","M","F","F","M","M","F","M","F","F","M","F","M","M","F","M","F","M","F","F","M","F","M","M","F","F","M","F","M","M","F","M","F","M","F","M","F","M","F","F","M","M","F","M","F","M","F","F","M","M","F","F","M","M","F","F","M","F","M","F","M","F","M","F","M","F","M","F","M","F","M","F","M","F","M","M","F","M","F","F","M","M","F","M","F","M","F","F","M","M","F","M","F","F","M","M","F","M","F","M","F","M","F","F","M","F","M","F","M","F","M","F","M","F","M","F","M","M","F","M","F","F","M","M","F","F","M","M","F","F","M","F","M","M","F","F","M"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>class<\/th>\n      <th>name<\/th>\n      <th>gender<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":6,"columnDefs":[{"className":"dt-right","targets":1},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[6,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>
---
# 让我们先来浏览一下数据内容：
考试成绩

<div id="htmlwidget-cc3396ec62d77b0221a1" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-cc3396ec62d77b0221a1">{"x":{"filter":"none","fillContainer":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219","220","221","222","223","224","225","226","227","228","229","230","231","232","233","234","235","236","237","238","239","240","241","242","243","244","245","246","247","248","249","250","251","252","253","254","255","256","257","258","259","260","261","262","263","264","265","266","267","268","269","270","271","272","273","274","275","276","277","278","279","280","281","282","283","284","285","286","287","288","289","290","291","292","293","294","295","296","297","298","299","300","301","302","303","304","305","306","307","308","309","310","311","312","313","314","315","316","317","318","319","320","321","322","323","324","325","326","327","328","329","330","331","332","333","334","335","336","337","338","339","340","341","342","343","344","345","346","347","348","349","350","351","352","353","354","355","356","357","358","359","360","361","362","363","364","365","366","367","368","369","370","371","372","373","374","375","376","377","378","379","380","381","382","383","384","385","386","387","388","389","390","391","392","393","394","395","396"],["安昆","安香","柏寒","柏朗","包松烟","包文","鲍达泽","鲍雁","贝和浦","贝小","贲黎","贲蕊蕊","毕萍","毕盛","卞昆","卞以妙","卜怜天","卜祯湃","蔡访秋","蔡运昌","曹宛","曹衍浩","岑昆","岑蕊妙","昌昂","昌亦","常曜","常亦","沈绿","沈运","陈依","陈宇","成安冬","成越振","程华煊","程梦梦","褚湃","褚问","崔荷白","崔昆","戴沛秋","戴泽震","单天傲","单运旭","邓又槐","邓运翰","狄凝","狄伟","刁香","刁振高","丁涵","丁杰轩","董冬烟","董鹏","窦晨","窦雨","杜曦","杜雁蕊","樊亦蓉","樊运浩","范昆","范南","方绿","方伟","房小","房运昆","费晋","费琴","酆鸿辰","酆山","冯辰","冯迎","凤盛","凤彤","伏寒盼","伏晋","傅思","傅曦","干盛昊","干萱梦","高黎","高之","葛秋","葛振","龚晨","龚语丝","顾鸿运","顾南巧","管良茂","管巧翠","郭濡运","郭烟","韩珊","韩渊","杭飞","杭景","郝鸿鸿","郝香","何琴","何天","和鹏","和蕊凡","贺福辰","贺梅","洪杰","洪若思","胡凯运","胡语","花晖","花忆","华福","华山","滑星鹏","滑迎思","黄语","黄卓潍","霍莲","霍宇","嵇惜盼","嵇耘昂","吉槐","吉勋","计晖","计冷","纪映钰","纪宇运","季容","季雄","贾曜","贾易","江晨华","江寄","姜乐","姜泽","蒋范","蒋珊","解友槐","解运昊","金浩浩","金蕊","康盼","康云辰","柯诚伟","柯凡菡","孔杰","孔君","蓝辰阳","蓝文","郎锟","郎元","乐荷","乐茂","雷鸿鸿","雷又","李辰","李菱","廉寒","廉昊","梁铭鹏","梁香","林鸿范","林乐山","凌白","凌运骏","柳怀","柳睿","娄晨昌","娄容迎","卢青薇","卢运天","鲁萱","鲁振","陆沛亦","陆星尧","路沛良","路元香","吕蓉","吕天","罗朗","罗蕊","骆寒","骆君","麻青","麻然","马笑丝","马运","毛槐","毛谊","茅容风","茅曦","梅翠亦","梅明","孟傲菡","孟鹏","米山","米雄","苗傲","苗明","闵飞","闵梦巧","明绿萱","明浦鸿","莫鸿昂","莫彤","缪白冬","缪运振","穆笑又","穆旭","倪瑶安","倪运","钮莱然","钮彤萱","潘浩风","潘思","庞卉","庞天","裴爵朗","裴彤彤","彭海","彭天","皮明","皮之","平鸿越","平芹","戚沛","戚熙","祁鹏升","祁丝","齐昊","齐旋易","钱轩","钱萱","强若琴","强智","秦容","秦钊","邱栋","邱怀秋","裘金","裘真易","屈昌","屈依海","任薇","任星","荣白诗","荣腾鹏","阮锟昌","阮蓉","邵昂","邵翠","盛安涵","盛潍天","施凯","施映","石昌","石秋荷","时鸿起","时昕凡","史蝶怀","史鸿鸿","舒辰辰","舒文","水旋","水宇","宋白萱","宋耘运","苏菡","苏凯","孙起","孙薇","谈博国","谈蕊","汤昊","汤萱","唐纶","唐之","陶鸿","陶云","滕易秋","滕运","田凡雄","田香","童傲","童曦","万南文","万煊","汪杰","汪迎凡","王辰","王松","危皓","危怀菡","韦明","韦凝","卫德","卫音","魏觅","魏起","邬昌","邬雁","吴蝶","吴燎","伍夏风","伍智","奚澍","奚雁","席辰星","席蓉","夏珊","夏运震","项辰莱","项又","萧槐云","萧星","谢初歌","谢彤","邢豪昊","邢蕊旋","熊风","熊昆","徐昆","徐南凝","许鸿","许晴","宣小天","宣运煊","薛燎","薛芷卉","严昂","严怜梦","颜晨宇","颜天绿","杨畅","杨君","姚昊","姚兰云","殷星","殷迎","尹昊","尹妙","应安萱","应宇","尤景","尤若","于梅","于煊浦","余亦","余哲诚","俞幻","俞鹏","虞运运","虞紫","禹音雁","禹智","郁飞","郁晋","喻苍","喻笑","元蓉","元震","袁梦谷","袁星","云容","云运","昝桃","昝运然","臧德","臧映","湛彭凯","湛霜","张杰","张觅","章昆","章之","赵彭","赵芷","郑白","郑阳","支桃","支运高","钟芷","钟智","周浩","周冷","朱邈","朱迎","诸亦","诸英","祝寄","祝钊韦","宗海书","宗运昆","邹昂","邹曼","左月","左运然"],[93,88,75,69,88,94,50,83,97,65,74,68,63,57,65,52,78,82,97,90,94,94,72,93,56,69,99,77,88,51,91,66,74,59,96,71,92,54,73,82,55,75,53,96,91,91,71,68,78,86,74,53,90,57,64,86,57,58,89,94,99,83,85,75,66,92,96,53,87,89,83,65,63,88,94,95,76,52,74,99,59,52,92,52,83,98,87,81,51,74,50,82,62,97,97,52,91,79,85,72,100,76,98,54,63,58,71,91,85,66,54,71,57,63,54,53,98,97,73,70,52,57,51,83,84,53,63,90,96,67,98,70,54,54,92,61,62,75,71,96,98,69,71,54,70,81,77,71,97,89,99,60,55,68,54,63,56,58,79,84,93,50,93,79,96,77,93,72,61,55,92,76,95,70,90,79,72,63,64,52,69,73,63,80,71,79,90,95,65,53,67,85,66,62,68,61,61,92,71,68,99,74,93,77,94,100,74,53,81,71,82,85,91,54,99,94,94,52,64,78,54,93,75,75,53,89,53,55,68,73,68,68,97,70,57,50,60,58,95,50,71,97,83,81,75,72,50,87,75,100,58,81,54,74,65,80,91,93,65,73,95,60,100,94,74,88,87,50,51,78,100,53,92,84,51,86,81,74,67,99,70,67,59,71,95,60,88,75,74,93,59,64,60,69,55,58,95,57,54,77,70,70,98,73,90,51,73,55,93,71,84,95,84,86,93,58,50,57,56,80,66,84,55,95,67,70,88,57,98,53,78,61,93,90,92,95,66,94,87,60,91,91,56,73,89,51,87,64,72,90,70,76,90,60,95,59,93,51,93,82,72,53,63,67,82,62,71,55,58,69,59,52,63,99,65,78,59,71,71,90,63,96,81,94,67,53,68,66,91,51,90,68,80,75,67,95],[69,34,38,100,95,72,48,99,56,95,72,37,79,85,92,57,33,36,64,48,67,81,54,93,31,61,35,62,36,78,51,59,71,80,40,50,90,51,68,49,37,65,31,47,49,99,66,31,86,78,90,38,99,89,71,100,69,42,60,64,98,33,56,48,89,43,71,86,56,45,62,58,64,34,31,50,79,30,35,61,30,100,49,32,67,60,60,67,63,90,83,73,82,43,38,82,39,53,96,54,59,58,78,68,76,53,62,78,93,94,69,50,97,99,64,46,74,82,71,39,78,59,97,32,30,33,78,32,86,55,44,34,88,70,49,37,66,74,69,44,57,53,49,84,43,80,72,85,41,77,33,42,33,98,40,51,71,68,67,84,70,100,89,38,57,55,35,41,46,56,90,95,76,98,93,81,53,71,94,91,75,68,45,47,70,39,55,63,89,73,65,99,97,94,77,74,61,40,80,57,76,70,94,39,76,91,38,78,47,75,57,84,75,65,95,53,100,40,70,83,52,52,73,57,83,79,57,71,43,91,31,99,41,52,32,86,69,66,44,86,42,62,55,45,85,60,34,79,100,30,70,72,63,50,35,44,66,84,61,44,49,90,46,48,33,81,37,46,39,76,76,39,65,64,53,95,43,89,30,93,62,56,55,49,79,65,66,66,97,80,93,90,65,49,50,69,50,59,98,62,64,34,52,36,63,88,56,59,79,77,96,80,71,71,53,51,30,75,100,97,45,83,42,74,78,36,73,95,87,38,55,32,99,58,83,57,54,55,72,84,70,81,76,90,74,45,78,55,49,68,62,73,50,81,62,42,96,55,76,49,94,53,34,84,59,56,98,82,58,70,100,91,48,47,67,34,32,38,50,85,35,53,52,39,83,44,56,67,96,51,88,41,48,30,70,99],[56,71,59,71,43,96,88,99,64,83,82,47,98,45,92,78,67,51,46,85,57,98,46,46,47,54,54,50,61,73,62,95,60,47,98,48,78,47,46,61,43,79,81,100,72,72,84,72,69,48,75,50,79,95,52,80,61,67,40,84,59,63,53,53,51,57,73,79,59,75,83,98,50,69,92,44,98,53,80,86,67,94,53,94,94,97,92,56,58,49,100,74,41,97,42,43,49,80,43,73,84,53,78,50,46,95,45,46,55,93,63,66,40,98,89,51,82,75,71,62,89,87,55,84,88,43,46,80,59,57,71,78,74,45,94,82,76,54,69,92,82,52,52,44,72,47,87,71,40,65,60,81,98,94,62,40,59,42,47,81,75,85,99,75,94,78,78,85,95,95,86,50,62,58,65,41,76,54,85,63,91,76,99,80,89,99,75,74,63,41,60,80,83,61,70,74,47,90,60,94,97,90,72,41,56,41,51,69,86,58,80,88,100,48,54,97,98,99,49,84,96,87,72,69,79,96,54,68,46,66,79,43,96,59,59,64,79,92,60,86,73,43,67,74,78,84,48,66,91,42,79,86,72,98,86,98,62,50,65,73,96,89,59,58,44,47,97,54,68,70,48,93,95,48,64,95,89,90,63,91,99,57,63,43,94,93,69,81,90,41,79,72,88,93,91,44,47,80,60,69,99,81,79,94,65,84,41,82,43,69,43,60,87,89,46,71,69,62,75,49,78,94,42,46,42,81,92,72,90,44,44,47,55,64,55,41,73,96,82,68,49,52,81,83,100,79,75,52,82,50,94,40,90,90,79,54,46,90,66,97,78,48,93,79,62,43,40,68,44,45,92,61,47,99,47,73,62,43,68,79,59,42,68,97,63,82,72,70,61,95,72,79,72,52,66,100],[30,74,36,84,37,99,37,48,50,41,51,72,36,31,34,37,83,53,59,35,47,96,97,42,88,35,62,87,84,74,91,35,92,67,32,77,54,43,100,72,76,61,83,40,68,87,56,87,99,68,38,86,55,37,96,79,33,45,92,35,69,89,31,92,77,57,77,52,67,30,32,41,77,95,63,69,64,92,90,78,49,63,95,54,43,60,64,82,63,32,66,38,42,54,90,88,56,56,95,36,49,84,72,57,77,48,35,100,80,69,76,64,86,41,31,37,89,79,74,76,97,56,56,81,45,50,80,51,79,52,68,63,49,71,85,30,86,97,45,58,44,70,82,46,50,65,55,90,75,55,91,63,100,45,83,55,65,97,48,57,50,41,69,78,74,74,68,51,78,48,61,60,37,51,87,35,99,95,36,34,61,46,84,54,56,99,72,94,79,52,81,37,43,51,78,67,67,65,89,48,97,63,72,73,34,53,78,42,72,64,75,63,45,58,67,65,91,77,37,67,71,91,53,40,86,100,75,98,36,99,44,45,35,72,46,65,30,56,99,45,60,46,37,39,76,95,33,52,36,53,61,43,69,52,77,48,91,84,79,72,46,36,73,30,31,33,31,98,56,58,73,71,63,31,55,31,79,87,95,40,61,61,45,56,93,33,85,93,63,56,70,87,38,39,98,37,83,58,66,77,74,80,96,82,79,81,98,84,99,69,76,98,92,60,42,56,97,65,30,40,63,86,63,44,63,39,84,91,51,65,64,43,49,75,100,84,34,46,89,97,42,90,98,72,91,100,38,62,92,40,82,88,38,98,80,81,96,35,51,48,56,82,67,78,57,85,59,64,41,71,70,39,66,68,44,68,73,78,53,56,39,68,35,100,91,84,76,33,55,67,36,35,63,48,99,86],[63,52,80,85,94,57,63,91,87,96,59,79,76,64,77,80,62,96,73,70,76,73,66,95,97,80,76,77,63,84,89,84,72,87,59,89,100,69,54,81,53,74,60,99,73,77,56,88,51,85,68,56,80,71,64,82,72,95,55,88,53,61,79,100,55,88,85,90,55,55,64,83,63,76,88,56,65,96,63,55,96,60,81,94,61,59,70,58,86,99,50,82,95,81,79,94,82,85,76,68,69,50,59,98,90,58,73,77,56,59,77,56,63,71,76,85,65,75,80,85,55,53,97,79,68,92,70,67,99,94,88,82,94,80,79,95,80,76,61,58,79,82,63,54,53,80,71,59,73,72,76,50,76,95,60,56,96,73,81,81,94,84,89,86,79,66,54,72,91,100,61,51,56,62,65,82,78,82,81,68,68,67,59,54,85,73,70,100,60,89,88,86,87,78,100,93,70,57,90,57,56,92,93,51,100,63,54,87,78,89,72,54,54,84,93,58,74,65,53,86,52,53,64,55,71,55,88,77,66,81,52,88,88,51,74,88,50,86,96,81,96,65,84,86,86,84,84,73,67,50,99,70,99,65,96,66,87,56,91,100,97,78,94,54,83,79,85,50,55,50,71,97,82,79,73,79,51,53,51,58,78,68,53,74,56,58,95,82,61,81,60,70,81,97,50,74,67,51,61,84,88,84,76,98,86,88,93,52,60,78,50,58,53,90,79,73,97,76,95,59,64,98,72,56,83,67,71,79,60,74,70,97,50,90,58,100,64,77,69,98,53,60,67,78,98,74,99,94,55,97,68,89,70,65,86,69,86,88,97,78,60,84,54,72,57,78,97,54,83,91,60,89,91,52,75,71,66,84,54,59,56,74,78,71,77,81,88,81,83,68,76,86,92,94,61,66],[62,57,54,73,66,66,79,87,57,81,78,57,53,57,74,64,95,98,63,58,79,73,97,51,73,60,94,52,73,57,97,88,84,56,73,88,52,96,84,67,68,91,52,73,56,95,71,94,100,67,75,76,83,95,89,85,69,70,95,88,54,90,86,74,64,51,92,78,94,74,84,52,65,87,52,73,74,68,89,90,88,61,96,95,58,85,88,60,68,64,84,76,69,67,70,54,89,54,79,99,71,64,86,53,63,94,54,66,100,53,100,66,65,61,56,83,96,57,98,56,92,66,55,56,92,89,66,98,79,96,71,75,87,89,92,55,91,89,81,50,84,84,51,64,72,93,58,98,93,90,98,71,90,100,72,97,63,88,84,54,77,95,80,68,99,71,77,72,69,52,94,81,100,100,66,78,92,79,59,89,97,66,92,89,75,100,58,60,96,57,99,69,89,70,65,57,93,55,86,52,59,77,62,55,51,77,50,60,98,57,67,88,78,62,93,70,80,97,72,77,89,82,53,83,64,97,51,84,96,66,87,78,78,82,90,67,57,82,66,77,88,89,92,89,72,68,67,73,82,98,67,86,83,93,53,74,71,61,86,100,94,77,85,66,91,71,88,70,66,55,62,87,50,67,92,64,76,55,67,90,61,63,81,81,58,83,95,69,82,87,68,84,51,54,69,80,73,100,57,67,74,88,53,77,69,81,50,89,63,98,84,67,71,76,100,60,62,63,98,96,77,81,59,61,76,92,51,87,88,100,64,53,68,70,69,83,72,74,88,57,91,75,72,51,79,64,75,56,89,97,77,93,59,98,83,77,89,69,70,78,74,63,82,69,96,51,67,73,94,63,89,84,67,68,81,52,75,53,52,74,67,99,75,63,100,79,77,86,51,57,80,96,73,67,77,74]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>name<\/th>\n      <th>chinese<\/th>\n      <th>math<\/th>\n      <th>english<\/th>\n      <th>physics<\/th>\n      <th>chemistry<\/th>\n      <th>biology<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":6,"columnDefs":[{"className":"dt-right","targets":[2,3,4,5,6,7]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[6,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>
---
# 操作任务

.content-box-yellow[

1. 请列出总分最高分和最低分（姓名和分数）

2. 请列出各科成绩最高分的学生（姓名和分数）

3. 请计算各科及格率（60分为及格线）

4. 请按班级分别计算各科平均成绩

5. 请列出各个班级总分最高和最低的学生（姓名和分数）

6. 请分班级比较男生和女生的成绩情况（总分与各科）

]

&gt; 每完成一步，请举手示意。我要记录一下，以示表扬。

---
# 数据整理就介绍到这里

&gt; 
- 师傅领进门，修行靠个人。
- 其它函数请自己去学习吧
- 接下来我们开始学习绘图。。。

&lt;img src="土拨鼠冲澡.gif" style="display: block; margin: auto;" /&gt;


---
class:center middle
background-image: url("lastimage.jpg")
background-size: cover# .white[谢谢聆听!]

## .red[记得回去以后多多练习哦！]

### .white[毛益民]
### .white[浙江工商大学公共管理学院]
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  /* Replace <script> tags in slides area to make them executable
   *
   * Runs after post-processing of markdown source into slides and replaces only
   * <script>s on the last slide of continued slides using the .has-continuation
   * class added by xaringan. Finally, any <script>s in the slides area that
   * aren't executed are commented out.
   */
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container:not(.has-continuation) script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
  var scriptsNotExecuted = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container.has-continuation script'
  );
  if (!scriptsNotExecuted.length) return;
  for (var i = 0; i < scriptsNotExecuted.length; i++) {
    var comment = document.createComment(scriptsNotExecuted[i].outerHTML)
    scriptsNotExecuted[i].parentElement.replaceChild(comment, scriptsNotExecuted[i])
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
